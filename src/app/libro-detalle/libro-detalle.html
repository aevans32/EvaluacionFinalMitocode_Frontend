<div class="page-container">
    <app-header></app-header>

    <div class="detalle-container">
        @if (cargando()) {
            <div class="loading">Cargando...</div>
        }
        @else if (libro()) {
            <div class="media">
                @if (libro()!.imageUrl) {
                    <img [src]="libro()!.imageUrl" alt="{{ libro()!.titulo }}">
                }
                @else {
                    <img src="./images/generic-book-cover.jpg" alt="Sin imagen de portada">
                }
            </div>

            <div class="info">
                <h2>{{ libro()!.titulo }}</h2>
                <h3>{{ libro()!.autor }}</h3>

                <p class="desc">
                    {{ libro()!.extendedDescription || libro()!.description }}
                </p>

                <div class="meta">
                    <div><strong>ISBN:</strong> {{ libro()!.isbn }}</div>
                    <div><strong>Precio:</strong> {{ libro()!.unitPrice }}</div>
                    <div><strong>Disponibilidad:</strong> {{ libro()!.disponible ? 'Disponible' : 'No disponible' }}</div>
                </div>

                <div class="actions">
                    <button mat-button (click)="volver()">Volver</button>
                    <button mat-raised-button color="primary" (click)="rentar()" [disabled]="!libro()!.disponible">Rentar</button>
                </div>
            </div>
        }
        @else {
            <div class="loading">No se encontro el libro.</div>
        }
    </div>
        
    <app-footer></app-footer>
</div>