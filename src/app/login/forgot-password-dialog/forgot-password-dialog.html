<h2 mat-dialog-title>Recuperar contraseña</h2>

<form [formGroup]="form" (ngSubmit)="onSubmit()" class="form">
    <mat-form-field appearance="outline" class="w-100">
        <mat-label>Correo</mat-label>
        <input matInput formControlName="email" type="email" autocomplete="email" style="color: #000"/>
        @if (form.controls.email.hasError('required')) {
            <mat-error>Requerido</mat-error>
        } @else if (form.controls.email.hasError('email')) {
            <mat-error>Correo invalido</mat-error>
        }
    </mat-form-field>

    <div class="actions">
        <button mat-button type="button" (click)="close()">Cancelar</button>
        <button mat-raised-button color="primary" type="submite" [disabled]="form.invalid || loading">
            {{ loading ? 'Enviando...' : 'Enviar enlace' }}
        </button>
    </div>

    @if (sent) {
        <p class="hint">Si el correo existe, te hemos enviado un mensaje con instrucciones para reestablecer tu contraseña.</p>
    } @else if (errorMsg) {
        <p class="error">{{ errorMsg }}</p>
    }
</form>